    <header class="advanced-header">
      <div class="header-container">
        <!-- Mobile Menu Toggle -->
        <button 
          class="mobile-menu-toggle"
          (click)="toggleMobileMenu()"
          [class.active]="mobileMenuOpen()"
          aria-label="Toggle navigation menu">
          <span></span>
          <span></span>
          <span></span>
        </button>

        <!-- Logo -->
        <div class="logo-section">
          <img 
            ngSrc="/assets/bank-logo.svg" 
            alt="BankOfMyHouse" 
            width="140" 
            height="45"
            priority>
        </div>

        <!-- Navigation -->
        <nav 
          class="main-nav" 
          [class.mobile-open]="mobileMenuOpen()">
          <ul class="nav-list">
            @for (item of navItems(); track item.path) {
              <li>
                <a 
                  [routerLink]="item.path"
                  routerLinkActive="active"
                  [class]="'nav-link ' + (item.highlight ? 'highlight' : '')"
                  (click)="closeMobileMenu()">
                  <i [class]="item.icon" aria-hidden="true"></i>
                  {{ item.label }}
                </a>
              </li>
            }
          </ul>
        </nav>

        <!-- User Actions -->
        <div class="user-actions">
          <!-- Notifications -->
          <div class="notifications-wrapper">
            <button 
              class="notification-btn"
              (click)="toggleNotifications()"
              [class.has-unread]="unreadCount() > 0"
              aria-label="Notifications">
              <i class="icon-bell" aria-hidden="true"></i>
              @if (unreadCount() > 0) {
                <span class="notification-badge">{{ unreadCount() }}</span>
              }
            </button>

            @if (notificationsOpen()) {
              <div class="notifications-dropdown">
                <div class="notifications-header">
                  <h3>Notifications</h3>
                  @if (unreadCount() > 0) {
                    <button 
                      class="mark-all-read"
                      (click)="markAllAsRead()">
                      Mark all read
                    </button>
                  }
                </div>
                
                <div class="notifications-list">
                  @for (notification of notifications(); track notification.id) {
                    <div 
                      class="notification-item"
                      [class.unread]="!notification.read"
                      [class]="'type-' + notification.type">
                      <div class="notification-content">
                        <p>{{ notification.message }}</p>
                        <time>{{ formatTime(notification.timestamp) }}</time>
                      </div>
                      @if (!notification.read) {
                        <button 
                          class="mark-read-btn"
                          (click)="markAsRead(notification.id)"
                          aria-label="Mark as read">
                          âœ“
                        </button>
                      }
                    </div>
                  } @empty {
                    <div class="empty-notifications">
                      <p>No notifications</p>
                    </div>
                  }
                </div>
              </div>
            }
          </div>

          <!-- User Menu -->
          @if (currentUser(); as user) {
            <div class="user-menu-wrapper">
              <button 
                class="user-menu-btn"
                (click)="toggleUserMenu()"
                aria-label="User menu">
                @if (user.username) {
                  <img 
                    [ngSrc]="user.username" 
                    [alt]="user.username"
                    width="32"
                    height="32"
                    class="user-avatar">
                } @else {
                  <div class="user-avatar-placeholder">
                    {{ user.username.charAt(0) }}
                  </div>
                }
                <span class="user-name-mobile">{{ user.username }}</span>
                <i class="icon-chevron-down" aria-hidden="true"></i>
              </button>

              @if (userMenuOpen()) {
                <div class="user-dropdown">
                  <div class="user-info">
                    <strong>{{ user.username }}</strong>
                    <span>Account: ****{{ user.username.slice(-4) }}</span>
                  </div>
                  <hr>
                  <a href="/profile" class="dropdown-link">
                    <i class="icon-user" aria-hidden="true"></i>
                    Profile Settings
                  </a>
                  <a href="/security" class="dropdown-link">
                    <i class="icon-shield" aria-hidden="true"></i>
                    Security
                  </a>
                  <a href="/preferences" class="dropdown-link">
                    <i class="icon-settings" aria-hidden="true"></i>
                    Preferences
                  </a>
                  <hr>
                  <button 
                    class="dropdown-link logout"
                    (click)="onLogout()">
                    <i class="icon-logout" aria-hidden="true"></i>
                    Logout
                  </button>
                </div>
              }
            </div>
          }
        </div>
      </div>
    </header>
