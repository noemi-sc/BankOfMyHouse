<header class="advanced-header">
  <div class="header-container">
    <!-- Mobile Menu Toggle -->
    <button class="mobile-menu-toggle" (click)="toggleMobileMenu()" [class.active]="mobileMenuOpen()"
      aria-label="Toggle navigation menu">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <!-- Logo -->
    <div class="logo-section">
      <img ngSrc="assets/BoHLogo.png" alt="BankOfMyHouse" width="150" height="150" priority>
    </div>

    <!-- Navigation -->
    <nav class="main-nav" [class.mobile-open]="mobileMenuOpen()">
      <ul class="nav-list">
        @for (item of navItems(); track item.path) {
        <li>
          <a [routerLink]="item.path" routerLinkActive="active"
            [class]="'nav-link ' + (item.highlight ? 'highlight' : '')" (click)="closeMobileMenu()">
            <i [class]="item.icon" aria-hidden="true"></i>
            {{ item.label }}
          </a>
        </li>
        }
      </ul>
    </nav>

    <!-- User Actions -->
    <div class="user-actions">
      <!-- User Menu -->
      @if (currentUser(); as user) {
      <div class="user-menu-wrapper">
        <button class="user-menu-btn" (click)="toggleUserMenu()" aria-label="User menu">
          <fa-icon [icon]="faUserCircle" aria-hidden="true" />
        </button>

        @if (userMenuOpen()) {
        <div class="user-dropdown">
          <div class="user-info">
            <strong>{{ user.firstName }} {{ user.lastName }}</strong>
            <span>Account: {{ user.username }}</span>
          </div>
          <hr>
          <hr>
          <button class="dropdown-link logout" (click)="onLogout()">
            <i class="icon-logout" aria-hidden="true"></i>
            Logout
          </button>
        </div>
        }
      </div>
      }
    </div>
  </div>
</header>